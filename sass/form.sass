@import ./variables
@import ./placeholder

$no-selected-color: #929292
$transition-s: .5s
%input-transition
    transition: box-shadow $transition-s
    -moz-transition: box-shadow $transition-s
    -webkit-transition: box-shadow $transition-s
    -o-transition: box-shadow $transition-s

%input
    width: 100%
    height: auto
    line-height: 1.5
    font-size: 1.1rem
    padding: .4rem .5rem
    border-radius: 5px
    @extend %input-transition

%form-focus
    border-top: none
    border-left: none
    border-right: none
    @extend %box-shadow
    @extend %input-transition

//  表单
    
.form-input
    @extend %input
    border: 1px solid $no-selected-color
    &:focus
        @extend %form-focus
        outline: transparent
        border-bottom: 2px solid $no-selected-color

.form-input-primary
    @extend %input
    border: 1px solid $primary-color
    &:focus
        @extend %form-focus
        outline: $primary-color
        border-bottom: 2px solid $primary-color
        
.form-input-accent
    @extend %input
    border: 1px solid $accent-color
    &:focus
        @extend %form-focus
        outline: $accent-color
        border-bottom: 2px solid $accent-color
        
.form-input-warn
    @extend %input
    border: 1px solid $warn-color
    &:focus
        @extend %form-focus
        outline: $warn-color
        border-bottom: 2px solid $warn-color


%form-select
    border-radius: 5px
    width: 100%
    padding: .4rem
    height: 2.2rem
    background-color: $basic-color
    // appearance: none
    // -moz-appearance: none
    // -webkit-appearance: none
    @extend %input-transition

.form-select
    @extend %form-select
    border: 1px solid $primary-color
    &:focus
        @extend %form-focus
        outline: $primary-color
        border-bottom: 2px solid $primary-color
    &>option
        padding: .3rem .4rem
        background-color: #fff

//  单选框动画
$box-transition-s: .3s
%box-transition
    transition: box-shadow $box-transition-s
    -moz-transition: box-shadow $box-transition-s
    -webkit-transition: box-shadow $box-transition-s
    -o-transition: box-shadow $box-transition-s
    
.form-radio
    cursor: pointer
    opacity: 0
    margin: 10px 5px
    &+label
        cursor: pointer
        position: relative
        margin-left: .5rem
        &::before
            content: ''
            position: absolute
            top: 1px
            left: -24px
            border-radius: 50%
            width: 16px
            height: 16px
            border: 2px solid $no-selected-color
        &::after
            content: ''
            position: absolute
            left: -20px
            top: 5px
            border-radius: 50%
            width: 12px
            height: 12px
            background-color: transparent
    &:focus
        + label
            &::before
                box-shadow: 0 0 1px 6px transparentize($primary-color, .7)
                @extend %box-transition
    &:active
        + label
            &::before
                box-shadow: 0 0 1px 6px transparentize($primary-color, .7)
                @extend %box-transition
    &:checked 
      + label 
        &::before 
          border-color: $primary-color
        &::after 
          background-color: $primary-color
          // 缩放动效，放大到正常大小
          transform: scale(1)
          transition: all .3s

.form-radio-accent
    @extend .form-radio
    &:focus
        + label
            &::before
                box-shadow: 0 0 1px 6px transparentize($accent-color, .7)
    &:active
        + label
            &::before
                box-shadow: 0 0 1px 6px transparentize($accent-color, .7)
    &:checked 
      + label 
        &::before 
          border-color: $accent-color
        &::after 
          background-color: $accent-color

.form-radio-warn
    @extend .form-radio
    &:focus
        + label
            &::before
                box-shadow: 0 0 1px 6px transparentize($warn-color, .7)
    &:active
        + label
            &::before
                box-shadow: 0 0 1px 6px transparentize($warn-color, .7)
    &:checked 
      + label 
        &::before 
          border-color: $warn-color
        &::after 
          background-color: $warn-color


.form-checkout
    cursor: pointer
    opacity: 0
    margin: 10px 5px
    &+label
        cursor: pointer
        position: relative
        margin-left: .5rem
        &::before
            content: ''
            position: absolute
            top: 3px
            left: -24px
            border-radius: 3px
            width: 14px
            height: 14px
            border: 2px solid $no-selected-color
    &:checked+label::before
        content: '\2714'
        color: #fff
        line-height: 1
        padding: 0 0 1px 2px
        background-color: $primary-color
        border: 1px solid $primary-color
        transition: all $box-transition-s
        -moz-transition: all $box-transition-s
        -webkit-transition: all $box-transition-s
        -o-transition: all $box-transition-s
    &:checked:focus+label::before
        box-shadow: 0 0 1px 6px transparentize($primary-color, .7)
    &:active+label::before
        box-shadow: 0 0 1px 6px transparentize($primary-color, .7)

.form-checkout-accent
    @extend .form-checkout
    &:checked+label::before
        background-color: $accent-color
        border: 1px solid $accent-color
    &:checked:focus+label::before
        box-shadow: 0 0 1px 6px transparentize($accent-color, .7)
    &:active+label::before
        box-shadow: 0 0 1px 6px transparentize($accent-color, .7)

.form-checkout-warn
    @extend .form-checkout
    &:checked+label::before
        background-color: $warn-color
        border: 1px solid $warn-color
    &:checked:focus+label::before
        box-shadow: 0 0 1px 6px transparentize($warn-color, .7)
    &:active+label::before
        box-shadow: 0 0 1px 6px transparentize($warn-color, .7)


%switch-transition
    transition: all $box-transition-s
    -moz-transition: all $box-transition-s
    -webkit-transition: all $box-transition-s
    -o-transition: all $box-transition-s

.switch-primary
    opacity: 0
    position: relative
    cursor: pointer
    margin: 0 0 15px 35px
    &+label
        cursor: pointer
        position: relative
    &+label::before
        content: ''
        cursor: pointer
        position: absolute
        top: 5px
        left: -48px
        border-radius: 15px
        width: 40px
        height: 15px
        background-color: $disabled-color
        @extend %switch-transition
    &:checked+label::before
        background: transparentize($primary-color, .3)
        @extend %switch-transition
    &+label::after
        content: ''
        cursor: pointer
        position: absolute
        top: 1px
        left: -52px
        border-radius: 15px
        width: 24px
        height: 24px
        background-color: $basic-color
        box-shadow: 0 3px 1px -1px rgba(0,0,0,.2)
        @extend %switch-transition
    &+label:active::after
        box-shadow: 0 0 0 10px transparentize($primary-color, .8)
    &:checked+label::after
        background-color: $primary-color
        left: -30px
        @extend %switch-transition
    &:focus+label::after
        box-shadow: 0 0 0 10px transparentize($primary-color, .8)
