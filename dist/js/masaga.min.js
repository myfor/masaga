function appendLoad(fn){if(!fn)return;const CURRENT_ONLOAD_FN=window.onload;window.onload="function"!=typeof CURRENT_ONLOAD_FN?fn:function(){CURRENT_ONLOAD_FN(),fn()}}appendLoad((function(){const list=document.querySelectorAll("textarea[autoRows]");if(list.length>0)for(let i=0;i<list.length;i++){const textarea=list[i];autoTextarea(textarea)}}));class mAlert{DOC=document;_box=null;_content="";_title="";_click=null;_clickText="确定";_clickClass="btn-flat-primary";constructor(config){config&&(config.content&&(this._content=config.content),config.title&&(this._title=config.title),config.click&&(this._click=config.click),config.clickText&&(this._clickText=config.clickText),config.clickClass&&(this._clickClass=config.clickClass)),this._buildBox()}_buildBox(){this._box=this.DOC.createElement("div"),this._box.className="alert-overlay-container",this._box.style.display="none";const DIV_BACKGROUND=this.DOC.createElement("div");DIV_BACKGROUND.className="alert-overlay-background",this._box.appendChild(DIV_BACKGROUND),DIV_BACKGROUND.onclick=()=>{this.close()};const DIV_WRAPPER=this.DOC.createElement("div");DIV_WRAPPER.className="alert-wrapper",this._box.appendChild(DIV_WRAPPER);const DIV_BOX=this.DOC.createElement("div");DIV_BOX.className="alert-box",DIV_WRAPPER.appendChild(DIV_BOX);const DIV_HEADER=this.DOC.createElement("div");DIV_HEADER.className="alert-box-header",DIV_HEADER.innerText=this._title;const DIV_BODY=this.DOC.createElement("div");DIV_BODY.className="alert-box-body",DIV_BODY.innerText=this._content;const DIV_ACTIONS=this.DOC.createElement("div");if(DIV_ACTIONS.className="alert-box-actions",this._click){const BTN_CLICK=this.DOC.createElement("button");BTN_CLICK.className="ml1",BTN_CLICK.classList.add(this._clickClass),BTN_CLICK.onclick=this._click,BTN_CLICK.innerText=this._clickText,DIV_ACTIONS.appendChild(BTN_CLICK)}const BTN_CLOSE=this.DOC.createElement("button");BTN_CLOSE.className="btn",BTN_CLOSE.innerText="关闭",BTN_CLOSE.onclick=()=>{this.close()},DIV_ACTIONS.appendChild(BTN_CLOSE),DIV_BOX.appendChild(DIV_HEADER),DIV_BOX.appendChild(DIV_BODY),DIV_BOX.appendChild(DIV_ACTIONS)}static new(config){return new mAlert(config)}open(){return this.DOC.body.appendChild(this._box),this._box.style.display="block",this}close(){this.DOC.body.removeChild(this._box)}}class ddl{static _clickBackgroudFn=null;static _clickDDLFn=null;static _isInit=null;static init(){if(this._isInit)return;this._isInit=!0;let newDDL=new ddl;newDDL.bindDropDownListButtonClickFn();const CURRENT_CLICK=document.onclick;ddl._clickBackgroudFn=newDDL.bindClickBackgroudFn,document.onclick="function"==typeof CURRENT_CLICK?function(){CURRENT_CLICK(),ddl._clickBackgroudFn(event)}:function(){ddl._clickBackgroudFn(event)},newDDL=null}bindDropDownListButtonClickFn(){const ddlList=document.querySelectorAll("[data-toggle=dropdown]");for(let i=0;i<ddlList.length;i++){const BTN=ddlList[i],P=BTN.parentNode;if(P.childElementCount<=1)continue;let c=P.firstElementChild;for(;c;){if(c.getAttribute("data-for")===BTN.id){BTN.onclick=function(){"none"!==c.style.display&&c.style.display?c.style.display="none":c.style.display="block"};break}c=c.nextElementSibling}}}bindClickBackgroudFn(event){let x=event.clientX,y=event.clientY,ele=document.elementFromPoint(x,y);if(ele&&"dropdown"===ele.getAttribute("data-toggle"))return;let ddlEles=document.querySelectorAll("[data-toggle=dropdown]");if(ddlEles)for(let i=0;i<ddlEles.length;i++){const e=ddlEles[i],P=e.parentNode;if(P&&P.childElementCount>1){let child=P.firstElementChild;for(;child;)child.getAttribute("data-for")===e.id&&(child.style.display="none"),child=child.nextElementSibling}}}}var autoTextarea=function(elem,extra,maxHeight){extra=extra||0;var isFirefox=!!document.getBoxObjectFor||"mozInnerScreenX"in window,isOpera=!!window.opera&&!!window.opera.toString().indexOf("Opera"),addEvent=function(type,callback){elem.addEventListener?elem.addEventListener(type,callback,!1):elem.attachEvent("on"+type,callback)},getStyle=elem.currentStyle?function(name){var val=elem.currentStyle[name];if("height"===name&&1!==val.search(/px/i)){var rect=elem.getBoundingClientRect();return rect.bottom-rect.top-parseFloat(getStyle("paddingTop"))-parseFloat(getStyle("paddingBottom"))+"px"}return val}:function(name){return getComputedStyle(elem,null)[name]},minHeight=parseFloat(getStyle("height"));elem.style.resize="none";var change=function(){var scrollTop,height,padding=0,style=elem.style;elem._length!==elem.value.length&&(elem._length=elem.value.length,isFirefox||isOpera||(padding=parseInt(getStyle("paddingTop"))+parseInt(getStyle("paddingBottom"))),scrollTop=document.body.scrollTop||document.documentElement.scrollTop,elem.style.height=minHeight+"px",elem.scrollHeight>minHeight&&(maxHeight&&elem.scrollHeight>maxHeight?(height=maxHeight-padding,style.overflowY="auto"):(height=elem.scrollHeight-padding,style.overflowY="hidden"),style.height=height+extra+"px",scrollTop+=parseInt(style.height)-elem.currHeight,document.body.scrollTop=scrollTop,document.documentElement.scrollTop=scrollTop,elem.currHeight=parseInt(style.height)))};addEvent("propertychange",change),addEvent("input",change),addEvent("focus",change),change()};