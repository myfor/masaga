function appendLoad(fn){if(!fn)return;const CURRENT_ONLOAD_FN=window.onload;window.onload="function"!=typeof CURRENT_ONLOAD_FN?fn:function(){CURRENT_ONLOAD_FN(),fn()}}class mAlert{DOC=document;_box=null;_content="";_title="";_click=null;_clickText="确定";_clickClass="btn-flat-primary";constructor(config){config&&(config.content&&(this._content=config.content),config.title&&(this._title=config.title),config.click&&(this._click=config.click),config.clickText&&(this._clickText=config.clickText),config.clickClass&&(this._clickClass=config.clickClass)),this._buildBox()}_buildBox(){this._box=this.DOC.createElement("div"),this._box.className="alert-overlay-container",this._box.style.display="none";const DIV_BACKGROUND=this.DOC.createElement("div");DIV_BACKGROUND.className="alert-overlay-background",this._box.appendChild(DIV_BACKGROUND),DIV_BACKGROUND.onclick=()=>{this.close()};const DIV_WRAPPER=this.DOC.createElement("div");DIV_WRAPPER.className="alert-wrapper",this._box.appendChild(DIV_WRAPPER);const DIV_BOX=this.DOC.createElement("div");DIV_BOX.className="alert-box",DIV_WRAPPER.appendChild(DIV_BOX);const DIV_HEADER=this.DOC.createElement("div");DIV_HEADER.className="alert-box-header",DIV_HEADER.innerText=this._title;const DIV_BODY=this.DOC.createElement("div");DIV_BODY.className="alert-box-body",DIV_BODY.innerText=this._content;const DIV_ACTIONS=this.DOC.createElement("div");if(DIV_ACTIONS.className="alert-box-actions",this._click){const BTN_CLICK=this.DOC.createElement("button");BTN_CLICK.className="ml1",BTN_CLICK.classList.add(this._clickClass),BTN_CLICK.onclick=this._click,BTN_CLICK.innerText=this._clickText,DIV_ACTIONS.appendChild(BTN_CLICK)}const BTN_CLOSE=this.DOC.createElement("button");BTN_CLOSE.className="btn",BTN_CLOSE.innerText="关闭",BTN_CLOSE.onclick=()=>{this.close()},DIV_ACTIONS.appendChild(BTN_CLOSE),DIV_BOX.appendChild(DIV_HEADER),DIV_BOX.appendChild(DIV_BODY),DIV_BOX.appendChild(DIV_ACTIONS)}static new(config){return new mAlert(config)}open(){return this.DOC.body.appendChild(this._box),this._box.style.display="block",this}close(){this.DOC.body.removeChild(this._box)}}class ddl{static _clickBackgroudFn=null;static _clickDDLFn=null;static _isInit=null;static init(){if(this._isInit)return;this._isInit=!0;let newDDL=new ddl;newDDL.bindDropDownListButtonClickFn();const CURRENT_CLICK=document.onclick;ddl._clickBackgroudFn=newDDL.bindClickBackgroudFn,document.onclick="function"==typeof CURRENT_CLICK?function(){CURRENT_CLICK(),ddl._clickBackgroudFn(event)}:function(){ddl._clickBackgroudFn(event)},newDDL=null}bindDropDownListButtonClickFn(){const ddlList=document.querySelectorAll("[data-toggle=dropdown]");for(let i=0;i<ddlList.length;i++){const BTN=ddlList[i],P=BTN.parentNode;if(P.childElementCount<=1)continue;let c=P.firstElementChild;for(;c;){if(c.getAttribute("data-for")===BTN.id){BTN.onclick=function(){"none"!==c.style.display&&c.style.display?c.style.display="none":c.style.display="block"};break}c=c.nextElementSibling}}}bindClickBackgroudFn(event){let x=event.clientX,y=event.clientY,ele=document.elementFromPoint(x,y);if(ele&&"dropdown"===ele.getAttribute("data-toggle"))return;let ddlEles=document.querySelectorAll("[data-toggle=dropdown]");if(ddlEles)for(let i=0;i<ddlEles.length;i++){const e=ddlEles[i],P=e.parentNode;if(P&&P.childElementCount>1){let child=P.firstElementChild;for(;child;)child.getAttribute("data-for")===e.id&&(child.style.display="none"),child=child.nextElementSibling}}}}